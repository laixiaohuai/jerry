{% extends "index.html" %}
{% block title %}执行命令{% endblock %}
{% block content %}

<script type="text/javascript" src="/static/js/bootstrap-multiselect.js"></script>
<script type="text/javascript" src="/static/js/select2.full.js"></script>
<link rel="stylesheet" href="/static/css/bootstrap-multiselect.css" type="text/css"/>
<link rel="stylesheet" href="/static/css/select2.css" type="text/css"/>


<div class="row">

<div class="col-md-10 col-sm-10 panel panel-default">
<ol class="breadcrumb">
  <li><a href="#">Home</a></li>
  <li><a href="/cmdb/asset">Asset</a></li>
  <li class="active">Run</li>
</ol>

<div class="panel-heading">
<h5><strong>Ansible执行命令</strong></h5>
</div>

<div class="panel-heading">

<div class="row">
<div class="col-md-6">
<form class="form-horizontal" id="RunForm"  action="/disconf/ansible/run/">

  <div class="form-group">
    <label for="hosts" class="col-sm-2 control-label">选择主机</label>
    <div class="col-sm-8">
     <select multiple="multiple" class="basic-multiple form-control" id="hosts" name="hosts">
       {% for g in hosts  %}
          <option value={{ g }}>{{ g }}</option>
       {% endfor %}
      </select>
    </div>
  </div>

  <div class="form-group">
    <label for="module" class="col-sm-2 control-label">选择模块</label>
    <div class="col-sm-8">
     <select class="form-control" id="module" name="module" onchange="getService()">
        <option value="">-------</option>
      {% for module in modules %}
        <option value={{ module }}>{{ module }}</option>
      {% endfor %}
      </select>
    </div>
  </div>

  <div class="form-group">
    <label for="ansiblescript" class="col-sm-2 control-label">填写命令</label>
    <div class="col-sm-8">
      <textarea class="form-control" rows="6" id="ansiblescript"></textarea>
    </div>
  </div>


  <div class="form-group">
    <div class="col-sm-offset-2 col-sm-8">
      <button class="btn btn-white" type="reset"> 重置 </button>
      <input type="button" value=" 提交 " class="btn btn-primary"  onclick="ansiblerun('RunForm')"></input>
    </div>
  </div>

</form>


</div>
<div class="col-md-6">
<div class="form-group">
<div class="col-sm-10">
<textarea class="form-control" rows="12" id="ansible_callback" readonly="readonly" placeholder="结果输出..."></textarea>
</div>
</div>



</div>
</div>



</div>

<div class="panel-body">
</div>
</div>
</div>

<script type="text/javascript">
    $(".basic-multiple").select2({
      tags: true,
      tokenSeparators: [',', ' ']
    });
</script>


{% endblock %}
